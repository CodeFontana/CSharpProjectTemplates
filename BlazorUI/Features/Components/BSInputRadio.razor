@using System.Linq.Expressions
@typeparam T

<div class="@($"form-check {Class}")">
    <InputRadio id="@Id"
                class="form-check-input"
                Value="@Value"
                ValueChanged="ValueChanged"
                ValueExpression="ValueExpression"
                @oninput="OnInput"
                @onfocus="OnFocus"
                @onblur="OnBlur"
                @onclick="OnClick"
                @onchange="OnChange"
                @onmouseover="OnMouseOver"
                @onmouseout="OnMouseOut"
                Disabled="@Disabled" />
    <label class="form-check-label" for="@Id">@Label</label>
</div>
@if (EditContext != null)
{
    <ValidationMessage For="@ValueExpression" class="text-danger validation-spacing" />
}

@code {
    [CascadingParameter]
    private EditContext? EditContext { get; set; }

    [Parameter]
    public string? Class { get; set; }

    [Parameter, EditorRequired]
    public required string Label { get; set; }

    [Parameter, EditorRequired]
    public required string Id { get; set; }

    [Parameter]
    public T? Value { get; set; }

    [Parameter]
    public EventCallback<T> ValueChanged { get; set; }

    [Parameter]
    public Expression<Func<T>>? ValueExpression { get; set; }

    [Parameter]
    public EventCallback<ChangeEventArgs> OnInput { get; set; }

    [Parameter]
    public EventCallback<FocusEventArgs> OnFocus { get; set; }

    [Parameter]
    public EventCallback<FocusEventArgs> OnBlur { get; set; }

    [Parameter]
    public EventCallback<MouseEventArgs> OnClick { get; set; }

    [Parameter]
    public EventCallback<ChangeEventArgs> OnChange { get; set; }

    [Parameter]
    public EventCallback<MouseEventArgs> OnMouseOver { get; set; }

    [Parameter]
    public EventCallback<MouseEventArgs> OnMouseOut { get; set; }

    [Parameter]
    public bool Disabled { get; set; } = false;
}
