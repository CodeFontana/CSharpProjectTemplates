@inject ISnackbar Snackbar

@if (ShowSuccess)
{
    <MudAlert Severity="Severity.Success">@Message</MudAlert>
}
else if (ShowError)
{
    <MudAlert Severity="Severity.Error">@Message</MudAlert>
}
else if (ShowInfo)
{
    <MudAlert Severity="Severity.Info">@Message</MudAlert>
}
else if (ShowWarning)
{
    <MudAlert Severity="Severity.Warning">@Message</MudAlert>
}

@code {
    private bool _showSuccess = false;
    [Parameter]
    public bool ShowSuccess
    {
        get => _showSuccess;
        set
        {
            if (value)
            {
                _showError = false;
                _showInfo = false;
                _showWarning = false;
            }

            _showSuccess = value;
        }
    }

    private bool _showError = false;
    [Parameter]
    public bool ShowError
    {
        get => _showError;
        set
        {
            if (value)
            {
                _showSuccess = false;
                _showInfo = false;
                _showWarning = false;
            }

            _showError = value;
        }
    }

    private bool _showInfo = false;
    [Parameter]
    public bool ShowInfo
    {
        get => _showInfo;
        set
        {
            if (value)
            {
                _showSuccess = false;
                _showError = false;
                _showWarning = false;
            }

            _showInfo = value;
        }
    }

    private bool _showWarning = false;
    [Parameter]
    public bool ShowWarning
    {
        get => _showWarning;
        set
        {
            if (value)
            {
                _showSuccess = false;
                _showError = false;
                _showInfo = false;
            }

            _showWarning = value;
        }
    }

    [Parameter]
    public string Message { get; set; }

    protected override void OnParametersSet()
    {
        if (_showSuccess)
        {
            Snackbar.Add(Message, Severity.Success);
        }
        else if (_showError)
        {
            Snackbar.Add(Message, Severity.Error);
        }
        else if (_showInfo)
        {
            Snackbar.Add(Message, Severity.Info);
        }
        else if (_showWarning)
        {
            Snackbar.Add(Message, Severity.Warning);
        }
    }
}
